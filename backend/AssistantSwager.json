{
  "openapi": "3.1.0",
  "info": {
    "title": "Bot API",
    "description": "A well-structured FastAPI bot backend",
    "version": "1.0.0"
  },
  "paths": {
    "/": {
      "get": {
        "tags": [
          "Basic"
        ],
        "summary": "Read Root",
        "description": "Root endpoint - returns a welcome message",
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Basic"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/ai-health": {
      "get": {
        "tags": [
          "Basic"
        ],
        "summary": "Ai Health Check",
        "description": "AI service health check endpoint",
        "operationId": "ai_health_check_ai_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get All Users",
        "description": "Get all users",
        "operationId": "get_all_users_users_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "type": "array",
                  "title": "Response Get All Users Users Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create User",
        "description": "Create a new user",
        "operationId": "create_user_users_post",
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        }
      }
    },
    "/users/{user_id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get User",
        "description": "Get a specific user by ID",
        "operationId": "get_user_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete User",
        "description": "Delete a user and all their chat messages",
        "operationId": "delete_user_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message": {
      "post": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Chat Message",
        "description": "Query documents with RAG and conversation memory\n\nThis endpoint allows users to ask questions about their uploaded documents.\nIt supports conversation memory by tracking chat_id, so users can ask\nfollow-up questions and reference previous parts of the conversation.\n\nReturns messages in new format with timestamps for tracking LLM response times.\n\nExample conversation:\n1. \"What is machine learning?\" -\u003E Returns answer with new chat_id\n2. \"How is it different from AI?\" -\u003E Uses same chat_id, references previous Q&A\n3. \"What was my first question?\" -\u003E Can answer \"What is machine learning?\"",
        "operationId": "chat_message_chat_message_post",
        "parameters": [
          {
            "name": "chat_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional chat ID for continuing existing conversations",
              "title": "Chat Id"
            },
            "description": "Optional chat ID for continuing existing conversations"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentQueryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessagesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/collection": {
      "get": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Get Chat Collection",
        "description": "Get all chats for a given user\n\nReturns a list of chat objects containing:\n- chatId: Unique chat identifier\n- chatTitle: Title/first message of the chat\n- creation: Chat creation timestamp",
        "operationId": "get_chat_collection_chat_message_collection_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "User ID to get chats for",
              "title": "User Id"
            },
            "description": "User ID to get chats for"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatCollectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/users/{user_id}": {
      "get": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Get User Messages",
        "description": "Get all chat messages for a specific user",
        "operationId": "get_user_messages_chat_message_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageResponse"
                  },
                  "title": "Response Get User Messages Chat Message Users  User Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Delete User Messages",
        "description": "Delete all messages for a specific user",
        "operationId": "delete_user_messages_chat_message_users__user_id__delete",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/chat/{chat_id}": {
      "get": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Get Chat Messages",
        "description": "Get all messages for a specific chat ID (page)",
        "operationId": "get_chat_messages_chat_message_chat__chat_id__get",
        "parameters": [
          {
            "name": "chat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chat Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChatMessageResponse"
                  },
                  "title": "Response Get Chat Messages Chat Message Chat  Chat Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Delete Chat Messages",
        "description": "Delete all messages for a specific chat ID (page)",
        "operationId": "delete_chat_messages_chat_message_chat__chat_id__delete",
        "parameters": [
          {
            "name": "chat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chat Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/{message_id}": {
      "get": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Get Message",
        "description": "Get a specific message by ID",
        "operationId": "get_message_chat_message__message_id__get",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Update Message",
        "description": "Update a specific message",
        "operationId": "update_message_chat_message__message_id__put",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatMessageUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Delete Message",
        "description": "Delete a specific message",
        "operationId": "delete_message_chat_message__message_id__delete",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/{message_id}/regenerate": {
      "put": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Update Message And Regenerate",
        "description": "Update a message and regenerate the AI response",
        "operationId": "update_message_and_regenerate_chat_message__message_id__regenerate_put",
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Message Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatMessageUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessageResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/chat/message/chat/{chat_id}/title": {
      "put": {
        "tags": [
          "Messages",
          "Messages"
        ],
        "summary": "Update Chat Title",
        "description": "Update the title of a chat",
        "operationId": "update_chat_title_chat_message_chat__chat_id__title_put",
        "parameters": [
          {
            "name": "chat_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Chat Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatTitleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/documents/upload": {
      "post": {
        "tags": [
          "Documents"
        ],
        "summary": "Upload Document",
        "description": "Upload and process a document (PDF, CSV, Word, TXT)\n\nThe document will be:\n1. Processed and split into chunks\n2. Embedded using our embedding service\n3. Stored in the database for later querying",
        "operationId": "upload_document_documents_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_document_documents_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentUploadResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/documents": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Get User Documents",
        "description": "Get all documents uploaded by a user",
        "operationId": "get_user_documents_documents_get",
        "parameters": [
          {
            "name": "user_id",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DocumentInfo"
                  },
                  "title": "Response Get User Documents Documents Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/documents/{document_id}": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Get Document Info",
        "description": "Get information about a specific document",
        "operationId": "get_document_info_documents__document_id__get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DocumentInfo"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Documents"
        ],
        "summary": "Delete Document",
        "description": "Delete a document and all its chunks",
        "operationId": "delete_document_documents__document_id__delete",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/documents/{document_id}/chunks": {
      "get": {
        "tags": [
          "Documents"
        ],
        "summary": "Get Document Chunks",
        "description": "Get all chunks for a specific document (for debugging/inspection)",
        "operationId": "get_document_chunks_documents__document_id__chunks_get",
        "parameters": [
          {
            "name": "document_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Document Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {

                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/orchestrator/execute": {
      "post": {
        "tags": [
          "Orchestrator"
        ],
        "summary": "Execute Orchestrated Request",
        "description": "Execute a request using the new tool-based orchestrator system\n\nThe orchestrator will:\n1. Identify the appropriate tool based on user input\n2. Execute the tool to get raw data\n3. Format the response using LLM\n4. Return the formatted response with metadata\n\nExample requests:\n- \"What's the weather in Paris?\"\n- \"Search for information about project management in my documents\"  \n- \"Show me arrival notice for shipment CMA123456\"\n- \"Hello, how are you today?\"",
        "operationId": "execute_orchestrated_request_orchestrator_execute_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrchestratorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestratorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/orchestrator/chat": {
      "post": {
        "tags": [
          "Orchestrator"
        ],
        "summary": "Orchestrated Chat Message",
        "description": "Send a message through the new tool-based orchestrator AND save to database\n\nThis combines the orchestrator's intelligence with proper message persistence.\nWorks exactly like the old /chat/message endpoint but uses new orchestrator routing.\n\nFeatures:\n- Intelligent tool routing (weather, documents, chat, etc.)  \n- Message persistence in MongoDB\n- Chat history support\n- Proper response formatting for frontend",
        "operationId": "orchestrated_chat_message_orchestrator_chat_post",
        "parameters": [
          {
            "name": "chat_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Optional chat ID for continuing existing conversations",
              "title": "Chat Id"
            },
            "description": "Optional chat ID for continuing existing conversations"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DocumentQueryRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatMessagesResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/orchestrator/simple-chat": {
      "post": {
        "tags": [
          "Orchestrator"
        ],
        "summary": "Orchestrated Simple Chat",
        "description": "Simplified chat interface using the new tool-based orchestrator\n\nThis is a more user-friendly endpoint for chat applications.\nIt automatically handles:\n- Intent detection using new tool system\n- Tool selection and execution\n- LLM response formatting\n- Error handling\n\nPerfect for integrating with chat UIs or conversational interfaces.",
        "operationId": "orchestrated_simple_chat_orchestrator_simple_chat_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/OrchestratorRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OrchestratorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_upload_document_documents_upload_post": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "file"
        ],
        "title": "Body_upload_document_documents_upload_post"
      },
      "ChatCollectionItem": {
        "properties": {
          "chatId": {
            "type": "string",
            "title": "Chatid"
          },
          "chatTitle": {
            "type": "string",
            "title": "Chattitle"
          },
          "creation": {
            "type": "string",
            "format": "date-time",
            "title": "Creation"
          }
        },
        "type": "object",
        "required": [
          "chatId",
          "chatTitle",
          "creation"
        ],
        "title": "ChatCollectionItem",
        "description": "Model for individual chat in collection"
      },
      "ChatCollectionResponse": {
        "properties": {
          "chats": {
            "items": {
              "$ref": "#/components/schemas/ChatCollectionItem"
            },
            "type": "array",
            "title": "Chats"
          }
        },
        "type": "object",
        "required": [
          "chats"
        ],
        "title": "ChatCollectionResponse",
        "description": "Model for chat collection response"
      },
      "ChatMessageItem": {
        "properties": {
          "content": {
            "type": "string",
            "title": "Content"
          },
          "userType": {
            "type": "string",
            "title": "Usertype"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "title": "Timestamp"
          },
          "sources": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/SourceChunk"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Sources"
          }
        },
        "type": "object",
        "required": [
          "content",
          "userType",
          "timestamp"
        ],
        "title": "ChatMessageItem",
        "description": "Model for individual chat message in new format"
      },
      "ChatMessageResponse": {
        "properties": {
          "message_id": {
            "type": "string",
            "title": "Message Id"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "chat_id": {
            "type": "string",
            "title": "Chat Id"
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "title": "Date"
          },
          "user_message": {
            "type": "string",
            "title": "User Message"
          },
          "assistant_message": {
            "type": "string",
            "title": "Assistant Message"
          }
        },
        "type": "object",
        "required": [
          "message_id",
          "user_id",
          "chat_id",
          "date",
          "user_message",
          "assistant_message"
        ],
        "title": "ChatMessageResponse",
        "description": "Model for chat message response"
      },
      "ChatMessageUpdate": {
        "properties": {
          "user_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "User Message"
          }
        },
        "type": "object",
        "title": "ChatMessageUpdate",
        "description": "Model for updating a chat message"
      },
      "ChatMessagesResponse": {
        "properties": {
          "messages": {
            "items": {
              "$ref": "#/components/schemas/ChatMessageItem"
            },
            "type": "array",
            "title": "Messages"
          }
        },
        "type": "object",
        "required": [
          "messages"
        ],
        "title": "ChatMessagesResponse",
        "description": "Model for chat messages response in new format"
      },
      "ChatTitleUpdate": {
        "properties": {
          "title": {
            "type": "string",
            "title": "Title"
          }
        },
        "type": "object",
        "required": [
          "title"
        ],
        "title": "ChatTitleUpdate",
        "description": "Model for updating chat title"
      },
      "DocumentInfo": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_type": {
            "type": "string",
            "title": "File Type"
          },
          "total_chunks": {
            "type": "integer",
            "title": "Total Chunks"
          },
          "upload_date": {
            "type": "string",
            "title": "Upload Date"
          },
          "file_size": {
            "type": "integer",
            "title": "File Size"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "filename",
          "file_type",
          "total_chunks",
          "upload_date",
          "file_size"
        ],
        "title": "DocumentInfo"
      },
      "DocumentQueryRequest": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          }
        },
        "type": "object",
        "required": [
          "query",
          "user_id"
        ],
        "title": "DocumentQueryRequest",
        "description": "Model for document query request - searches all user documents"
      },
      "DocumentUploadResponse": {
        "properties": {
          "document_id": {
            "type": "string",
            "title": "Document Id"
          },
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "file_type": {
            "type": "string",
            "title": "File Type"
          },
          "total_chunks": {
            "type": "integer",
            "title": "Total Chunks"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "document_id",
          "filename",
          "file_type",
          "total_chunks",
          "message"
        ],
        "title": "DocumentUploadResponse"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "OrchestratorRequest": {
        "properties": {
          "user_input": {
            "type": "string",
            "title": "User Input"
          },
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "context": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Context"
          },
          "parameters": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Parameters"
          }
        },
        "type": "object",
        "required": [
          "user_input",
          "user_id"
        ],
        "title": "OrchestratorRequest"
      },
      "OrchestratorResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "tool_used": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tool Used"
          },
          "result": {
            "type": "string",
            "title": "Result"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata"
          },
          "execution_time": {
            "type": "number",
            "title": "Execution Time"
          }
        },
        "type": "object",
        "required": [
          "success",
          "tool_used",
          "result",
          "message",
          "execution_time"
        ],
        "title": "OrchestratorResponse"
      },
      "SourceChunk": {
        "properties": {
          "document": {
            "type": "string",
            "title": "Document"
          },
          "chunk": {
            "type": "string",
            "title": "Chunk"
          },
          "relevance_score": {
            "type": "number",
            "title": "Relevance Score"
          }
        },
        "type": "object",
        "required": [
          "document",
          "chunk",
          "relevance_score"
        ],
        "title": "SourceChunk",
        "description": "Model for source chunk information in chat responses"
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "total_chats": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Total Chats",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "created_at"
        ],
        "title": "UserResponse",
        "description": "Model for user response"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}